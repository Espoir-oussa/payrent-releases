<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#171810">
    <meta name="description" content="PayRent - L'application tout-en-un pour gérer simplement vos locations, loyers, paiements et documents. Pour propriétaires et locataires.">
    <meta name="keywords" content="PayRent, gestion locative, location, loyer, paiement sécurisé, quittance, propriétaire, locataire, immobilier, application Android">
    <link rel="canonical" href="https://payrent.app/">
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <meta property="og:title" content="PayRent - Gestion locative simplifiée">
    <meta property="og:description" content="Gérez vos locations, paiements et documents en toute simplicité. Téléchargez PayRent sur Android dès maintenant.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://payrent.app/">
    <meta property="og:image" content="https://payrent.app/images/og-image.png">
    <meta property="og:locale" content="fr_FR">
    <title>PayRent - Gestion locative simplifiée</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'pr-dark': '#171810',
                        'pr-red': '#5F2525',
                        'pr-red-light': '#7a3333',
                        'pr-light': '#F9FAFB',
                        'pr-success': '#10B981',
                        'pr-gray': '#6B7280',
                    },
                    fontFamily: {
                        'museo': ['MuseoModerno', 'system-ui', 'sans-serif'],
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'MuseoModerno';
            src: url('./fonts/MuseoModerno.ttf') format('truetype');
            font-weight: 100 900;
            font-display: swap;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .card-hover {
            transition: all 0.4s ease;
        }

        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px -12px rgba(95, 37, 37, 0.2);
        }

        .btn-primary {
            background: linear-gradient(to right, #5F2525, #7a3333);
        }

        .btn-primary:hover {
            background: linear-gradient(to right, #7a3333, #9b4040);
        }

        .spinner {
            border: 4px solid rgba(95, 37, 37, 0.2);
            border-top-color: #5F2525;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>

<body class="bg-pr-light min-h-screen font-sans text-pr-dark">

    <!-- Loading Overlay -->
    <div id="loading" class="fixed inset-0 bg-white/95 backdrop-blur-md z-50 hidden flex items-center justify-center flex-col gap-4">
        <div class="spinner w-12 h-12"></div>
        <p class="text-lg font-medium animate-pulse">Ouverture de PayRent...</p>
    </div>

    <div class="relative overflow-hidden">

        <!-- Navbar -->
        <nav class="glass-effect border-b border-gray-200 sticky top-0 z-40">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center gap-3">
                        <img src="./payrent_blanc.png" alt="Logo PayRent" class="h-10">
                        <span class="font-bold text-2xl font-museo">PayRent</span>
                    </div>
                    <div id="version-badge" class="bg-white/80 px-4 py-1.5 rounded-full text-sm font-medium border border-gray-200">
                        v1.0.0
                    </div>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="pt-12 pb-16 lg:pt-20 lg:pb-24">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">

                    <!-- Left - Text & Stats -->
                    <div class="order-2 lg:order-1">
                        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold font-museo leading-tight">
                            Gestion locative<br>
                            <span class="text-pr-red">simplifiée</span>
                        </h1>
                        <p class="mt-6 text-lg sm:text-xl text-gray-600 leading-relaxed">
                            L’application tout-en-un qui facilite la vie des propriétaires et des locataires : paiements sécurisés, quittances automatiques, documents centralisés et communication fluide.
                        </p>

                        <!-- Stats -->
                        <div class="grid grid-cols-3 gap-8 mt-10">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-pr-red">1000+</div>
                                <div class="text-sm text-gray-500 mt-1">Utilisateurs</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-pr-red">99%</div>
                                <div class="text-sm text-gray-500 mt-1">Satisfaction</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-pr-red">4.8★</div>
                                <div class="text-sm text-gray-500 mt-1">Note moyenne</div>
                            </div>
                        </div>

                        <!-- Invitation Box (si token présent) -->
                        <div id="invitation-box" class="mt-10 glass-effect rounded-2xl p-6 border border-pr-success/20 shadow-lg card-hover hidden">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 bg-pr-success/10 rounded-xl flex items-center justify-center">
                                    <svg class="w-7 h-7 text-pr-success" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-lg">Vous avez une invitation !</h3>
                                    <p class="text-gray-600 mt-1">Acceptez-la directement dans l'application PayRent.</p>
                                    <button onclick="openApp()" class="mt-4 text-pr-red font-semibold hover:text-pr-red-light flex items-center gap-2">
                                        Accepter l'invitation
                                        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right - Actions Card -->
                    <div class="order-1 lg:order-2">
                        <div class="glass-effect rounded-3xl p-8 lg:p-10 shadow-2xl card-hover border border-gray-100">
                            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-2">Commencer avec PayRent</h2>
                            <p class="text-center text-gray-600 mb-10">Ouvrez ou téléchargez l'application en un clic</p>

                            <!-- Ouvrir l'app -->
                            <button onclick="openApp()" class="w-full btn-primary text-white font-semibold py-5 rounded-2xl shadow-lg flex items-center justify-center gap-4 card-hover group">
                                <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center">
                                    <svg class="w-7 h-7 group-hover:scale-110 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"/>
                                    </svg>
                                </div>
                                <div class="text-left">
                                    <div class="text-lg">Ouvrir dans l'application</div>
                                    <div class="text-sm opacity-90">Expérience optimale recommandée</div>
                                </div>
                            </button>

                            <div class="my-10 relative">
                                <div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div>
                                <div class="relative flex justify-center text-sm"><span class="px-4 bg-white text-gray-500">Ou télécharger</span></div>
                            </div>

                            <!-- Téléchargements -->
                            <div class="grid grid-cols-2 gap-6">
                                <button onclick="downloadAndroid()" id="android-download" class="p-6 bg-gray-50 hover:bg-pr-red rounded-2xl transition-all card-hover group text-center">
                                    <div class="w-16 h-16 mx-auto mb-4 bg-white rounded-2xl shadow flex items-center justify-center">
                                        <svg class="w-10 h-10 text-green-600 group-hover:scale-110 transition" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M17.523 15.341c-.5 0-.91.41-.91.91s.41.91.91.91.91-.41.91-.91-.41-.91-.91-.91zm-11.046 0c-.5 0-.91.41-.91.91s.41.91.91.91.91-.41.91-.91-.41-.91-.91-.91zm11.405-6.02l1.894-3.28c.104-.18.044-.41-.136-.514-.18-.104-.41-.044-.514.136l-1.918 3.32C15.56 8.343 13.85 7.943 12 7.943s-3.56.4-5.208 1.04L4.874 5.663c-.104-.18-.334-.24-.514-.136-.18.104-.24.334-.136.514l1.894 3.28C2.78 11.088.5 14.65.5 18.788h23c0-4.138-2.28-7.7-5.618-9.467z"/>
                                        </svg>
                                    </div>
                                    <p class="font-bold text-lg group-hover:text-white transition">Android</p>
                                    <p id="android-version" class="text-sm text-gray-500 group-hover:text-white/90 transition mt-1">Chargement...</p>
                                </button>

                                <div class="p-6 bg-gray-50 rounded-2xl flex flex-col items-center justify-center text-center border-2 border-dashed border-gray-300">
                                    <div class="w-16 h-16 mx-auto mb-4 bg-white rounded-2xl shadow flex items-center justify-center">
                                        <svg class="w-10 h-10 text-gray-400" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
                                        </svg>
                                    </div>
                                    <p class="font-bold text-lg text-gray-500">iOS</p>
                                    <p class="text-sm text-gray-400 mt-1">Bientôt disponible</p>
                                </div>
                            </div>

                            <!-- Fonctionnalités rapides -->
                            <div class="mt-10 pt-8 border-t border-gray-200">
                                <h4 class="text-center font-semibold mb-6">Fonctionnalités clés</h4>
                                <div class="grid grid-cols-2 gap-4 text-sm">
                                    <div class="flex items-center gap-3"><svg class="w-5 h-5 text-pr-success flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg><span>Paiements sécurisés</span></div>
                                    <div class="flex items-center gap-3"><svg class="w-5 h-5 text-pr-success flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg><span>Quittances auto</span></div>
                                    <div class="flex items-center gap-3"><svg class="w-5 h-5 text-pr-success flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg><span>Documents centralisés</span></div>
                                    <div class="flex items-center gap-3"><svg class="w-5 h-5 text-pr-success flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg><span>Messagerie intégrée</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="border-t border-gray-200 py-8 mt-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <div class="flex items-center justify-center gap-3 mb-4">
                    <img src="./payrent_blanc.png" alt="Logo PayRent" class="h-8">
                    <span class="font-bold text-xl font-museo">PayRent</span>
                </div>
                <p class="text-sm text-gray-500">
                    © 2025 PayRent - Tous droits réservés • 
                    <a href="#" class="text-pr-red hover:text-pr-red-light ml-1">Politique de confidentialité</a>
                </p>
            </div>
        </footer>
    </div>

    <script>
        const CONFIG = {
            versionUrl: './version.json',
            appScheme: 'payrent',
            fallbackVersion: '1.0.0'
        };

        let appVersion = CONFIG.fallbackVersion;
        let apkUrl = '';

        const urlParams = new URLSearchParams(window.location.search);
        const token = urlParams.get('token');
        const action = urlParams.get('action') || 'accept';

        function buildDeepLink() {
            return token ? `${CONFIG.appScheme}://accept-invitation?token=${token}&action=${action}` : `${CONFIG.appScheme}://`;
        }

        function updateUI() {
            const box = document.getElementById('invitation-box');
            if (token) {
                box.classList.remove('hidden');
                if (action === 'reject') {
                    box.classList.replace('border-pr-success/20', 'border-red-200');
                    box.querySelector('svg').classList.replace('text-pr-success', 'text-red-600');
                    box.querySelector('h3').textContent = 'Refuser l’invitation ?';
                    box.querySelector('p').textContent = 'Vous êtes sur le point de refuser cette invitation.';
                    box.querySelector('button').textContent = 'Confirmer le refus';
                }
            }
        }

        async function fetchVersion() {
            try {
                const res = await fetch(CONFIG.versionUrl + '?t=' + Date.now());
                if (res.ok) {
                    const data = await res.json();
                    appVersion = data.version || CONFIG.fallbackVersion;
                    apkUrl = data.apkUrl || '';
                    document.getElementById('version-badge').textContent = `v${appVersion}`;
                    document.getElementById('android-version').textContent = data.size ? `v${appVersion} • ${data.size}` : `v${appVersion}`;
                }
            } catch (e) {
                console.error(e);
            }
        }

        function downloadAndroid() {
            if (apkUrl) window.open(apkUrl, '_blank');
            else alert('Téléchargement temporairement indisponible.');
        }

        function openApp() {
            const loading = document.getElementById('loading');
            loading.classList.remove('hidden');
            loading.classList.add('flex');

            window.location.href = buildDeepLink();

            setTimeout(() => {
                loading.classList.add('hidden');
                loading.classList.remove('flex');
                if (/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                    if (confirm('PayRent n’est pas installée.\nVoulez-vous la télécharger ?')) {
                        /Android/i.test(navigator.userAgent) ? downloadAndroid() : alert('Version iOS bientôt disponible.');
                    }
                }
            }, 3000);
        }

        document.addEventListener('DOMContentLoaded', async () => {
            updateUI();
            await fetchVersion();
            if (token && /Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                setTimeout(openApp, 1000);
            }
        });
    </script>
</body>

</html>